Определите тип funcptr_t, являющийся указателем на функцию,
принимающую один параметр типа double и возвращающую значение типа double.
Определите элемент таблицы функций — структуру struct FunctionTable,
которая содержит отображение имени функции (строки) в указатель на функцию.
С помощью этой структуры определите таблицу функций sin, cos,
exp, log, tan, sqrt для функций из стандартной математической
библиотеки. Таблица функций должна легко расширяться, то есть
для добавления новой функции в эту таблицу программа должна модифицироваться
только в одном месте программы (в одной строке исходного текста).
При описании структуры данных и таблицы используйте ключевые слова const, static.
Напишите программу, которая считывает со стандартного потока ввода до
признака конца файла последовательность пар (name, x), где name
— это строка непробельных символов, имя функции, x
— вещественное значение типа double.
Элементы ввода разделяются произвольным количеством пробельных символов.
Для каждой введенной пары программа должна вывести на стандартный поток
вывода результат вычисления функции name в точке x.
Если функция name не зарегистрирована в таблице, выведите значение nan.
Выводите результат с помощью форматного преобразования %a.
Какие алгоритмы поиска в таблице функций допускаются, определяется преподавателем в группе.
ExamplesInput
sin 0.5
log10 10
log 0
cos 0.00001
Output
0x1.eaee8744b05fp-2
nan
-inf
0x1.ffffffff920c8p-1
В аргументах командной строки задается целое неотрицательное число N.
Родитель должен создать два процесса. Оба процесса работают
поочередно. Каждый процесс выводит на стандартный поток вывода свой порядковый номер (1 или 2)
и число, считанное из канала. Затем в канал отправляется число на 1 больше считанного.
Последним выводится номер соответствующего процесса и число N. После
этого процессы должны завершить свою работу. Родитель дожидается их
завершения и завершается сам с кодом 0. Допускается переслать через канал число N + 1 один раз.
Таким образом, если в командной строке задан параметр 4, на стандартном потоке вывода должно быть выведено
1 1
2 2
1 3
2 4
Для организации передачи данных используйте один неименованный канал.
Данные по каналу пересылайте в текстовом виде.
Очередность записи определяется сигналом SIGUSR1. То есть, если процесс получает сигнал SIGUSR1,
он получает доступ к каналу. Запрещается посылать в канал числа, большие N, за исключением однократной пересылки N + 1 (см. выше).
Перед началом пересылки данных организуйте передачу через канал идентификаторов процессов, чтобы оба сына
знали PID друг друга.
Для работы с сигналами используйте signalfd.
В решении избегайте дублирования кода. В частности, напишите
функцию, которая будет общей для обоих взаимодействующих процессов
и будет выполнять основной цикл их работы.
Стандартный поток вывода перенаправлен в канал.